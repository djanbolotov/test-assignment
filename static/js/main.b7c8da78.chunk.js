(this.webpackJsonpredux=this.webpackJsonpredux||[]).push([[0],{47:function(e,n,t){},72:function(e,n,t){},73:function(e,n,t){"use strict";t.r(n);var r,a=t(0),o=t.n(a),c=t(22),i=t.n(c),s=(t(47),t(19)),d=t(2),l=t(5),u=t(13),p=u.c,b=t(12),j=t.n(b),O=t(16),h=t(17),f=t.n(h);!function(e){e.FETCH_POSTS="FETCH_POSTS",e.FETCH_POSTS_SUCCESS="FETCH_POSTS_SUCCESS",e.FETCH_POSTS_ERROR="FETCH_POSTS_ERROR",e.POST="NEW_POST",e.POST_SUCCESS="NEW_POST_SUCCESS",e.POST_ERROR="NEW_POST_ERROR",e.GET_POST_SUCCESS="GET_POST_SUCCESS"}(r||(r={}));var x,S,m,v,g,w,T,y,C,E,_,P,R,k,U="https://simple-blog-api.crew.red/posts/",F=function(){return function(){var e=Object(O.a)(j.a.mark((function e(n){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:r.FETCH_POSTS}),e.next=4,f.a.get(U);case 4:t=e.sent,n({type:r.FETCH_POSTS_SUCCESS,payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n({type:r.FETCH_POSTS_ERROR,payload:"An error has occurred!"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}()},z=t(6),H=z.a.div(x||(x=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 250px;\n  height: 230px;\n  word-wrap: break-word;\n  background-color: #fff;\n  background-clip: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  border-radius: 0.25rem;\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\n  overflow: hidden;\n"]))),N=z.a.div(S||(S=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  min-height: 1px;\n  padding: 1.25rem;\n"]))),I=z.a.h1(m||(m=Object(l.a)(["\n  font-size: 1.25rem;\n  font-weight: bold;\n  margin: 0;\n  max-height: 30px;\n  overflow: hidden;\n\n"]))),D=z.a.p(v||(v=Object(l.a)(["\n  line-height: 25px;\n  color: #6c757d;\n  max-height: 100px;\n  overflow: hidden;\n  margin:0;\n"]))),G=z.a.button(g||(g=Object(l.a)(["\n  cursor: pointer;\n  margin-top: auto;\n  width: 100%;\n  color: #fff;\n  background-color: #7b7fda;\n  border-color: #28a745;\n  display: block;\n  font-weight: bold;\n  text-align: center;\n  vertical-align: middle;\n  user-select: none;\n  border: 1px solid transparent;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem; \n  line-height: 1.5;\n  border-radius: 0.25rem;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  &:hover {\n    color: #fff;\n    background-color: #67bc98;\n    border-color: #1e7e34;\n  }\n"]))),W=t(1),A=function(e){var n=e.post,t=Object(d.f)();return Object(W.jsx)(H,{children:Object(W.jsxs)(N,{children:[Object(W.jsx)(I,{children:n.title}),Object(W.jsx)(D,{children:n.body}),Object(W.jsx)(G,{onClick:function(){return e=n.id,void t.push("/posts/"+e);var e},children:"Learn more"})]})})},B=z.a.div(w||(w=Object(l.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-around;\n    position: relative;\n    top: 8rem;\n    width: 90%;\n    padding: 0;\n    margin: auto;\n"]))),J=function(){var e=p((function(e){return e.posts})).posts,n=Object(u.b)();return Object(a.useEffect)((function(){n(F())}),[n]),Object(W.jsx)(B,{children:e.map((function(e){return Object(W.jsx)(A,{post:e},e.id)}))})},L=z.a.span(T||(T=Object(l.a)(["\n  padding: 1rem 2rem;\n  cursor: pointer;\n  text-align: center;\n  color: white;\n  transition: all 0.3s ease-in;\n  font-size: 1.1rem;\n  &:hover {\n    color: #67bc98;\n  }\n"]))),M=z.a.div(y||(y=Object(l.a)(["\n  padding: 0 2rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  background: #7b7fda;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n"]))),q=z.a.span(C||(C=Object(l.a)(["\n  padding: 1rem 0;\n  color:  #67bc98;\n  font-weight: 800;\n  font-size: 1.7rem;\n  span {\n    font-weight: 300;\n    font-size: 1.3rem;\n  }\n"]))),K=z.a.div(E||(E=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: relative;\n"]))),Q=function(){return Object(W.jsxs)(M,{children:[Object(W.jsx)(q,{children:Object(W.jsxs)(s.b,{to:"/",children:["Djan",Object(W.jsx)("span",{children:"bolotov"})]})}),Object(W.jsxs)(K,{children:[Object(W.jsx)(L,{children:Object(W.jsx)(s.b,{to:"/",children:"All Posts"})}),Object(W.jsx)(L,{children:Object(W.jsx)(s.b,{to:"/posts/new",children:"New Post"})})]})]})},V=t(4),X=t(27),Y=z.a.input.attrs((function(e){return{type:"text",size:e.size||"1em"}}))(_||(_=Object(l.a)(["\n    font-size: 1em;\n    border: 2px solid blue;\n    border-radius: 3px;\n    margin: 10px;\n    padding: ",";\n  "])),(function(e){return e.size})),Z=z.a.div(P||(P=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 40%;\n  word-wrap: break-word;\n  background-color: #fff;\n  background-clip: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  border-radius: 0.25rem;\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\n  overflow: hidden;\n"]))),$=z.a.h1(R||(R=Object(l.a)(["\n  font-size: 1.25rem;\n  font-weight: bold;\n  margin: 0;\n  max-height: 300px;\n  overflow: hidden;\n\n"]))),ee=z.a.p(k||(k=Object(l.a)(["\n  line-height: 25px;\n  color: #6c757d;\n  max-height: 900px;\n  overflow: hidden;\n  margin:0;\n"]))),ne=function(e){var n=e.text,t=e.withComment,o=e.post,c=e.id,i=void 0===c?1:c,s=Object(d.f)(),l=Object(a.useState)({title:"",body:""}),p=Object(X.a)(l,2),b=p[0],h=p[1],x=Object(a.useState)({}),S=Object(X.a)(x,2),m=S[0],v=S[1],g=Object(u.b)(),w=function(e){g(function(e){return function(){var n=Object(O.a)(j.a.mark((function n(t){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:r.POST}),n.next=4,f.a.post(U,e);case 4:t({type:r.POST_SUCCESS}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t({type:r.POST_ERROR,payload:"There was a some error with posting:("});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(e)),g(F()),s.push("/")},T=function(e,n){g(function(e,n){return function(){var t=Object(O.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:r.POST}),t.next=4,f.a.put(U+e,n);case 4:a({type:r.POST_SUCCESS}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:r.POST_ERROR,payload:"There was a some error with updating post :("});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(e,n)),g(F()),s.push("/")},y=function(e){g(function(e){return function(){var n=Object(O.a)(j.a.mark((function n(t){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:r.POST}),n.next=4,f.a.post("https://simple-blog-api.crew.red/comments",e);case 4:t({type:r.POST_SUCCESS}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t({type:r.POST_ERROR,payload:"There was an error with posting comment :("});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(e)),g(F()),s.push("/")};return Object(a.useEffect)((function(){o&&h(o)}),[o]),Object(W.jsxs)(Z,{children:[Object(W.jsx)(Y,{value:b.title,onChange:function(e){return n=e.target.value,void h(Object(V.a)(Object(V.a)({},b),{},{title:n}));var n},placeholder:"Title..."}),Object(W.jsx)(Y,{value:b.body,onChange:function(e){return n=e.target.value,void h(Object(V.a)(Object(V.a)({},b),{},{body:n}));var n},placeholder:"Body...",size:"2em"}),Object(W.jsx)(G,{onClick:t?function(){return T(i,b)}:function(){return w(b)},children:n}),t&&Object(W.jsxs)("div",{children:[Object(W.jsx)("h3",{children:"Comment"}),Object(W.jsx)(Y,{onChange:function(e){return n=e.target.value,void v(Object(V.a)(Object(V.a)({},m),{},{body:n,postId:i}));var n},placeholder:"Comment body...",size:"2em"}),Object(W.jsx)(G,{onClick:function(){return y(m)},children:"New comment"})]})]})},te=function(){return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(B,{children:Object(W.jsx)(ne,{id:1,withComment:!1,text:"New Post"})})})},re=function(){var e,n=Object(d.g)().postID,t=p((function(e){return e.posts.post})),o=Object(u.b)(),c=Object(d.f)(),i=function(e){var n;o((n=e,function(){var e=Object(O.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:r.POST}),e.next=4,f.a.delete(U+n);case 4:t({type:r.POST_SUCCESS}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:r.POST_ERROR,payload:"There was a some error with deleting:("});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}())),o(F()),c.push("/")};return Object(a.useEffect)((function(){var e;o((e=parseInt(n),function(){var n=Object(O.a)(j.a.mark((function n(t){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:r.POST}),n.next=4,f.a.get(U+e+"?_embed=comments");case 4:a=n.sent,t({type:r.GET_POST_SUCCESS,payload:a.data}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t({type:r.POST_ERROR,payload:"There was an error with server :("});case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()))}),[o,n]),Object(W.jsxs)(B,{children:[Object(W.jsx)(Z,{children:Object(W.jsxs)(N,{children:[Object(W.jsx)($,{children:null===t||void 0===t?void 0:t.title}),Object(W.jsx)(ee,{children:null===t||void 0===t?void 0:t.body}),(null===t||void 0===t?void 0:t.comments)&&Object(W.jsx)("h3",{children:"Comments"}),null===t||void 0===t||null===(e=t.comments)||void 0===e?void 0:e.map((function(e){return Object(W.jsx)(ee,{children:null===e||void 0===e?void 0:e.body},e.id)})),Object(W.jsx)(G,{onClick:function(){return i(parseInt(n))},children:"Delete"})]})}),Object(W.jsx)(ne,{id:parseInt(n),post:t,withComment:!0,text:"Edit"})]})};t(72);function ae(){return Object(W.jsx)("div",{className:"loader-wrap",children:Object(W.jsxs)("div",{className:"loader",children:[Object(W.jsx)("div",{className:"box-1 box"}),Object(W.jsx)("div",{className:"box-2 box"}),Object(W.jsx)("div",{className:"box-3 box"})]})})}var oe=function(){var e=p((function(e){return e.posts})).loading;return Object(W.jsxs)(s.a,{basename:"/test-assigment",children:[Object(W.jsx)(Q,{}),Object(W.jsxs)(d.c,{children:[Object(W.jsx)(d.a,{path:"/",exact:!0,component:J}),Object(W.jsx)(d.a,{path:"/posts/new",component:te}),Object(W.jsx)(d.a,{path:"/posts/:postID",component:re})]}),e&&Object(W.jsx)(ae,{})]})},ce=t(23),ie={posts:[],loading:!1,error:null,post:null},se=t(42),de=Object(ce.b)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case r.FETCH_POSTS:return Object(V.a)(Object(V.a)({},e),{},{loading:!0,error:null});case r.FETCH_POSTS_SUCCESS:return Object(V.a)(Object(V.a)({},e),{},{loading:!1,error:null,posts:n.payload});case r.FETCH_POSTS_ERROR:return Object(V.a)(Object(V.a)({},e),{},{loading:!1,error:n.payload});case r.POST:return Object(V.a)(Object(V.a)({},e),{},{loading:!0,error:null});case r.POST_SUCCESS:return Object(V.a)(Object(V.a)({},e),{},{loading:!1,error:null});case r.POST_ERROR:return Object(V.a)(Object(V.a)({},e),{},{loading:!1,error:n.payload});case r.GET_POST_SUCCESS:return Object(V.a)(Object(V.a)({},e),{},{loading:!1,error:null,post:n.payload});default:return e}}}),le=Object(ce.c)(de,Object(ce.a)(se.a));i.a.render(Object(W.jsx)(o.a.StrictMode,{children:Object(W.jsx)(u.a,{store:le,children:Object(W.jsx)(oe,{})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.b7c8da78.chunk.js.map